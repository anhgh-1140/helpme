initButton();

function initButton() {
  var icon = `<svg id="Capa_1" enable-background="new 0 0 510 510" height="512" viewBox="0 0 510 510" width="512"
    xmlns="http://www.w3.org/2000/svg">
    <g>
      <g>
        <path
          d="m428.22 81.74-86.56 86.56c-22.18-22.17-52.82-35.88-86.66-35.88s-64.48 13.71-86.66 35.88l-86.56-86.56c44.34-44.33 105.57-71.74 173.22-71.74s128.88 27.41 173.22 71.74z"
          fill="#ff6464" />
        <path
          d="m132.42 255c0 33.84 13.71 64.48 35.88 86.66l-86.56 86.56c-44.33-44.34-71.74-105.57-71.74-173.22 0-67.67 27.43-128.92 71.78-173.26l86.56 86.56c-22.19 22.19-35.92 52.84-35.92 86.7z"
          fill="#e6eaf1" />
        <path
          d="m428.26 428.22c-44.34 44.35-105.59 71.78-173.26 71.78s-128.92-27.43-173.26-71.78l86.56-86.56c22.19 22.19 52.84 35.92 86.7 35.92s64.51-13.73 86.7-35.92z"
          fill="#ff6464" />
        <path
          d="m500 255c0 67.65-27.41 128.88-71.74 173.22l-86.56-86.56c22.17-22.18 35.88-52.82 35.88-86.66 0-33.86-13.73-64.51-35.92-86.7l86.56-86.56c44.35 44.34 71.78 105.59 71.78 173.26z"
          fill="#e6eaf1" />
      </g>
      <g>
        <path
          d="m421.769 134.173c-4.629 3.012-5.941 9.206-2.929 13.835 20.924 32.164 31.5 70.696 30.586 111.432-.124 5.521 4.251 10.098 9.773 10.222.077.001.153.002.229.002 5.418 0 9.871-4.331 9.993-9.775 1.005-44.777-10.688-87.236-33.816-122.788-3.013-4.627-9.206-5.938-13.836-2.928z" />
        <path
          d="m435.351 435.272c48.138-48.158 74.649-112.178 74.649-180.272 0-68.113-26.525-132.149-74.688-180.312-.003-.003-.006-.005-.008-.008-.004-.004-.007-.008-.011-.012-.006-.006-.014-.012-.02-.018-48.159-48.139-112.179-74.65-180.273-74.65s-132.114 26.511-180.272 74.649c-.006.006-.014.012-.02.018-.004.004-.007.008-.011.012-.003.003-.006.005-.008.008-48.164 48.164-74.689 112.2-74.689 180.313 0 68.094 26.511 132.114 74.649 180.272.006.006.012.014.018.02.004.004.008.007.012.011.003.003.005.006.008.008 48.164 48.164 112.2 74.689 180.313 74.689s132.149-26.525 180.312-74.688c.003-.003.005-.006.008-.008.004-.004.008-.007.012-.011.007-.007.012-.014.019-.021zm-7.326-21.429-72.499-72.499c19.968-23.215 32.054-53.393 32.054-86.344 0-32.971-12.101-63.167-32.091-86.387l72.497-72.497c38.482 41.863 62.014 97.674 62.014 158.884 0 61.19-23.516 116.984-61.975 158.843zm-285.605-158.843c0-62.077 50.503-112.58 112.58-112.58s112.58 50.503 112.58 112.58-50.503 112.58-112.58 112.58-112.58-50.503-112.58-112.58zm271.423-173.025-72.499 72.499c-23.215-19.968-53.393-32.054-86.344-32.054s-63.129 12.086-86.343 32.054l-72.5-72.499c41.859-38.459 97.653-61.975 158.843-61.975s116.984 23.516 158.843 61.975zm-331.83 14.141 72.497 72.497c-19.99 23.22-32.091 53.416-32.091 86.387 0 32.951 12.086 63.129 32.054 86.344l-72.499 72.499c-38.458-41.859-61.974-97.653-61.974-158.843 0-61.21 23.532-117.021 62.013-158.884zm14.103 331.871 72.497-72.497c23.22 19.99 53.416 32.091 86.387 32.091s63.167-12.101 86.387-32.091l72.497 72.497c-41.863 38.481-97.674 62.013-158.884 62.013s-117.021-23.532-158.884-62.013z" />
        <path
          d="m465.73 290.18c-2.43-6.461-11.573-8.257-16.3-3.25-6.265 6.188-1.736 17.121 7.071 17.07 6.883.191 12.075-7.531 9.229-13.82z" />
      </g>
    </g>
  </svg>`

  var helpButton = document.createElement('button');
  helpButton.innerHTML = icon + ' HELP ME!'

  $(helpButton).css({
    position: 'fixed',
    'z-index': 999,
    padding: '15px',
    border: 0,
    'border-bottom-right-radius': '8px',
    'box-shadow': '0px 0px 10px -4px black',
    cursor: 'pointer',
    'font-size': '14px',
    'line-height': '18px',
    'font-weight': 700,
    display: 'flex',
    'align-items': 'center',
    color: '#5f6368',
    background: '#fff'
  });
  $(helpButton).find('svg').css({
    height: '16px',
    width: '16px',
    'margin-right': '6px',
  });

  $(helpButton).on('click', function() {
    console.log('clicked');
    chrome.runtime.sendMessage({}, function (response) {
      console.log(response);
    });
  })

  document.body.append(helpButton)
}
